<!DOCTYPE html>

<html lang = "en">
	<head>
		<title>English presentation</title>
		<meta charset = "UTF-8">

		<link rel = "stylesheet" type = "text/css" href = "windows.css">
		<link rel = "icon" href = "favico.png" type = "image/png">

		<!-- defer attributes lets us load the script when loading webpage, but only run it after all the HTML is loaded -->
		<!-- <script defer type = "text/javascript" src = "https://www.gstatic.com/charts/loader.js"></script> -->

		<!-- <link rel = "stylesheet" type = "text/css" href = "https://unpkg.com/7.css"> -->
		<!-- <link rel = "stylesheet" href = "https://unpkg.com/xp.css"> -->
		<!-- <link rel = "stylesheet" href = "https://unpkg.com/98.css"> -->

		<style>
			body {
				background: url(https://wallpaperaccess.com/full/220742.jpg) no-repeat center center fixed;
				/* background: url(https://wallpapercave.com/wp/wp2754864.jpg) no-repeat center center fixed; */
				/* background: #008080; */

				-webkit-background-size: cover;
				-moz-background-size: cover;
				-ms-background-size: cover;
				-o-background-size: cover;
				background-size: cover;

				-webkit-user-select: none;
				-moz-user-select: none;
				-ms-user-select: none;
				-o-user-select: none;
				user-select: none;

				overflow: hidden;
			}

			@font-face {
				font-family: lucida;
				src: url(lucida.ttf);
			}

			textarea {
				font-family: 'lucida';
				font-size: 18px;
			}

			.excel {
				width: 200px;
			}
		</style>
	</head>

	<body>
		<div id = "intro-window" class = "draggable window glass" style = "position: absolute; min-width: 400px; max-width: 400px">
			<div class = "title-bar">
				<div class = "title-bar-text">Introduction to the GDPR</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button onclick = "yes_cancel_dialog('Exit Presentation', 'Are you sure you would like to exit the presentation?', 'alert(`no`)')" aria-label = "Close"></button>
				</div>
			</div>
			<div class = "window-body">
				<p>Internet is an incredible tool, but it has a dark side. Have you ever gone to a website and been assaulted by a lot of popups asking you to accept cookies? Have you ever received loads of emails about a thing that you were just searching for or talking about five minutes ago? How can evil companies retrieve all this data from you? Are they using black magic? This is what we will be trying to answer today.</p>
				<p>From your lamp to your flip-flops, everything is connected to the Internet these days. No wonder Google is able to know every single thing about you. Let’s do an experiment, just follow these simple steps:</p>
				<details close>
					<summary>If you have an iPhone and are not using Google Maps:</summary>
					<ul>
						<li>Open settings.</li>
						<li>Go to "Confidentialité", then "Services de localisation", then "Services système", then "Lieux importants".</li>
						<li>You should see a list of places you've been. Click on one to see more!</li>
					</ul>
				</details>
				<details close>
					<summary>If you are using Google Maps:</summary>
					<ul>
						<li>Open Google Maps.</li>
						<li>Click on your profile picture on the top-right corner.</li>
						<li>Click on "Vos trajets".</li>
						<li>You should see your recent paths.</li>
					</ul>
				</details>
				<p>So, are you terrified now?</p>
				<button onclick = "document.getElementById('why-window').hidden = false">Yes, I am!</button>
				<button onclick = "info_dialog('Try Again', `That's the wrong answer! Try again by clicking on 'Yes, I am!'...`)">No...</button>
			</div>
		</div>

		<div hidden id = "why-window" class = "draggable window glass" style = "position: absolute; min-width: 400px">
			<div class = "title-bar">
				<div class = "title-bar-text">Why did we choose to work on this topic?</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('why-window').hidden = true"></button>
				</div>
			</div>
			<div class = "window-body">
				<p>Sometimes, things do not have any explanation. Just deal with it.</p>
				<button onclick = "document.getElementById('form-window').hidden = false">Ok?</button>
			</div>
		</div>

		<div hidden id = "form-window" class = "draggable window glass" style = "position: absolute; min-width: 400px">
			<div class = "title-bar">
				<div class = "title-bar-text">Small survey</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('form-window').hidden = true"></button>
				</div>
			</div>
			<div class = "window-body">
				<h4>How much do you know about the GDPR?</h4>
				<p>In this little survey, find out how much you <i>really</i> know about the GDPR, and more!</p>
				<p>Just kidding, you'll only find out about how much you know about the GDPR, nothing else.</p>

				<form onsubmit = "return false" id = "survey1">
					<h5>Do you know what cookies are? (we're talking about internet cookies, don't try to be funny)</h5>
					<fieldset>
						<legend>Please select your answer</legend>
						<div class = "field-row">
							<input required id = "q1-r0" type = "radio" name = "q1" value = "1" onclick = "document.getElementById('q1-text').hidden = false">
							<label for = "q1-r0">Yes, absolutely</label>
						</div>
						<div class = "field-row">
							<input required id = "q1-r1" type = "radio" name = "q1" value = "2" onclick = "document.getElementById('q1-text').hidden = false">
							<label for = "q1-r1">I think I've heard of it</label>
						</div>
						<div class = "field-row">
							<input required id = "q1-r2" type = "radio" name = "q1" value = "3" onclick = "document.getElementById('q1-text').hidden = true">
							<label for = "q1-r2">Not at all</label>
						</div>
						<div class = "field-row">
							<input style = "width: 300px" hidden id = "q1-text" type = "text" placeholder = "Explain what they are in a few words...">
						</div>
					</fieldset>

					<h5>Do you know what they are used for?</h5>
					<fieldset>
						<legend>Please select your answer</legend>
						<div class = "field-row">
							<input required id = "q2-r0" type = "radio" name = "q2" onclick = "document.getElementById('q2-text').hidden = false">
							<label for = "q2-r0">Yes, absolutely</label>
						</div>
						<div class = "field-row">
							<input required id = "q2-r1" type = "radio" name = "q2" onclick = "document.getElementById('q2-text').hidden = false">
							<label for = "q2-r1">I think I do</label>
						</div>
						<div class = "field-row">
							<input required id = "q2-r2" type = "radio" name = "q2" onclick = "document.getElementById('q2-text').hidden = true">
							<label for = "q2-r2">Not at all</label>
						</div>
						<div class = "field-row">
							<input style = "width: 300px" hidden id = "q2-text" type = "text" placeholder = "Explain what they are used for in a few words...">
						</div>
					</fieldset>

					<h5>
						Do you know what your personal data* is used for?<br>
						<i>*e.g., conversations, search history, favourite books, movies, who your friends are, where you've been, &c</i>
					</h5>
					<fieldset>
						<legend>Please select your answer</legend>
						<div class = "field-row">
							<input required id = "q3-r0" type = "radio" name = "q3" onclick = "document.getElementById('q3-text').hidden = false">
							<label for = "q3-r0">Yes, absolutely</label>
						</div>
						<div class = "field-row">
							<input required id = "q3-r1" type = "radio" name = "q3" onclick = "document.getElementById('q3-text').hidden = false">
							<label for = "q3-r1">I think I do</label>
						</div>
						<div class = "field-row">
							<input required id = "q3-r2" type = "radio" name = "q3" onclick = "document.getElementById('q3-text').hidden = true">
							<label for = "q3-r2">Not at all</label>
						</div>
						<div class = "field-row">
							<input style = "width: 300px" hidden id = "q3-text" type = "text" placeholder = "Explain what it is used for in a few words...">
						</div>
					</fieldset>

					<h5>Do you know what the GDPR is?</h5>
					<fieldset>
						<legend>Please select your answer</legend>
						<div class = "field-row">
							<input required id = "q4-r0" type = "radio" name = "q4" onclick = "document.getElementById('q4-text').hidden = false">
							<label for = "q4-r0">Yes, absolutely</label>
						</div>
						<div class = "field-row">
							<input required id = "q4-r1" type = "radio" name = "q4" onclick = "document.getElementById('q4-text').hidden = false">
							<label for = "q4-r1">I think I've heard of it</label>
						</div>
						<div class = "field-row">
							<input required id = "q4-r2" type = "radio" name = "q4" onclick = "document.getElementById('q4-text').hidden = true">
							<label for = "q4-r2">Not at all</label>
						</div>
						<div class = "field-row">
							<input style = "width: 300px" hidden id = "q4-text" type = "text" placeholder = "Explain what it is in a few words...">
						</div>
					</fieldset>
					
					<input class = "button" type = "submit" value = "Submit">
					<button id = "view-button" onclick = "document.getElementById('results-window').hidden = false">View results</button>
				</form>
			</div>
		</div>

		<div hidden id = "notepad-window" class = "draggable window glass" style = "position: absolute; min-width: 400px">
			<div class = "title-bar">
				<div class = "title-bar-text" style = "display: flex; align-items: center"><img src = "notepad.png" style = "width: 16px; height: 16px; margin-right: 4px">Notepad</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Maximize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('notepad-window').hidden = true"></button>
				</div>
			</div>
			<div style = "padding: 0" class = "window-body">
				<textarea style = "margin-bottom: -3px; min-width: 400px; min-height: 300px">tutoriel 2008 comment ouvrir son explorateur de fichier</textarea>
			</div>
		</div>
		
		<div id = "results-window" class = "draggable window glass" style = "position: absolute; min-width: 400px" hidden>
			<div class = "title-bar">
				<div class = "title-bar-text" style = "display: flex; align-items: center"><img src = "excel.png" style = "width: 16px; height: 16px; margin-right: 4px">Survey Results</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Maximize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('results-window').hidden = true"></button>
				</div>
			</div>
			<div class = "window-body">
				<p>Here are the results of the first survey!</p>
				<p>Click on each tab to see an overview of each question!!!!11</p>

				<section class = "tabs">
					<menu role = "tablist">
						<button role = "tab" aria-controls = "tab1" aria-selected = "true">Question 1</button>
						<button role = "tab" aria-controls = "tab2">Question 2</button>
						<button role = "tab" aria-controls = "tab3">Question 3</button>
						<button role = "tab" aria-controls = "tab4">Question 4</button>
						</menu>

					<!-- TODO faudra peut-être enlever la classe 'animate' pcq elle est lente as fuck -->

					<article role = "tabpanel" id = "tab1">
						<h4>Do you know what cookies are?</h4>

						<div role = "progressbar" class = "" id = "tab1">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q1-b0" style = "width: 60%"></div>
						</div>
						<p><span id = "q1-b0-span">60</span>% of respondents answered yes!</p>
						<div role = "progressbar" class = "paused">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q1-b1" style = "width: 20%"></div>
						</div>
						<p><span id = "q1-b1-span">20</span>% of respondents answered they'd heard if them...</p>
						<div role = "progressbar" class = "error">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q1-b2" style = "width: 40%"></div>
						</div>
						<p><span id = "q1-b2-span">40</span>% of respondents answered no :(</p>
						<input class = "excel" style = "font-weight: bold;" type = "text" value = "Answers" readonly><input class = "excel" style = "font-weight: bold;" type = "text" value = "Explanation" readonly><br>
						<div id = "jeff1"></div>
					</article>
					<article role = "tabpanel" id = "tab2" hidden>
						<h4>Do you know what they are used for?</h4>

						<div role = "progressbar" class = "">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q2-b0" style = "width: 60%"></div>
						</div>
						<p><span id = "q2-b0-span">60</span>% of respondents answered yes!</p>
						<div role = "progressbar" class = "paused">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q2-b1" style = "width: 20%"></div>
						</div>
						<p><span id = "q2-b1-span">20</span>% of respondents answered they'd heard if them...</p>
						<div role = "progressbar" class = "error">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q2-b2" style = "width: 40%"></div>
						</div>
						<p><span id = "q2-b2-span">40</span>% of respondents answered no :(</p>
						<input class = "excel" style = "font-weight: bold;" type = "text" value = "Answers" readonly><input class = "excel" style = "font-weight: bold;" type = "text" value = "Explanation" readonly><br>
						<div id = "jeff2"></div>
					</article>
					<article role = "tabpanel" id = "tab3" hidden>
						<h4>Do you know what your personal data is used for?</h4>

						<div role = "progressbar" class = "">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q3-b0" style = "width: 60%"></div>
						</div>
						<p><span id = "q3-b0-span">60</span>% of respondents answered yes!</p>
						<div role = "progressbar" class = "paused">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q3-b1" style = "width: 20%"></div>
						</div>
						<p><span id = "q3-b1-span">20</span>% of respondents answered they'd heard if them...</p>
						<div role = "progressbar" class = "error">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q3-b2" style = "width: 40%"></div>
						</div>
						<p><span id = "q3-b2-span">40</span>% of respondents answered no :(</p>
						<input class = "excel" style = "font-weight: bold;" type = "text" value = "Answers" readonly><input class = "excel" style = "font-weight: bold;" type = "text" value = "Explanation" readonly><br>
						<div id = "jeff3"></div>
					</article>
					<article role = "tabpanel" id = "tab4" hidden>
						<h4>Do you know what the GDPR is?</h4>

						<div role = "progressbar" class = "">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q4-b0" style = "width: 60%"></div>
						</div>
						<p><span id = "q4-b0-span">60</span>% of respondents answered yes!</p>
						<div role = "progressbar" class = "paused">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q4-b1" style = "width: 20%"></div>
						</div>
						<p><span id = "q4-b1-span">20</span>% of respondents answered they'd heard if them...</p>
						<div role = "progressbar" class = "error">
							<!-- c'est ici que tu dois changer la remplititude de la barre noa -->
							<div id = "q4-b2" style = "width: 40%"></div>
						</div>
						<p><span id = "q4-b2-span">40</span>% of respondents answered no :(</p>
						<input class = "excel" style = "font-weight: bold;" type = "text" value = "Answers" readonly><input class = "excel" style = "font-weight: bold;" type = "text" value = "Explanation" readonly><br>
						<div id = "jeff4"></div>
					</article>
				</section>
			</div>
		</div>

		<div hidden id = "cmd-window" class = "draggable window glass" style = "position: absolute; min-width: 400px">
			<div class = "title-bar">
				<div class = "title-bar-text">Command Prompt</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Maximize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('cmd-window').hidden = true"></button>
				</div>
			</div>
			<div style = "padding: 0" class = "window-body">
				<pre style = "background-color: black; color: white">
Microsoft&#10094;R&#10095; Windows DOS
&#10094;C&#10095; Copyright Microsoft Corp 1990-2001.
<br>C:&#92;WINDOWS&#92;SYSTEM32> brichant.exe
You have summoned the great Brichant!<br>
He will grant you thre--
I have just been informed tha--
Ok the great Brichant will grant you NO wishes!<br>
Loading the GREAT BRICHANT...
				</pre>
			</div>
		</div>

		<div hidden id = "excel-window" class = "draggable window glass" style = "position: absolute">
			<div class = "title-bar">
				<div class = "title-bar-text" style = "display: flex; align-items: center"><img src = "excel.png" style = "width: 16px; height: 16px; margin-right: 4px">Microsoft Excel 2077 - vocab.xls</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Maximize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('excel-window').hidden = true"></button>
				</div>
			</div>
			<div style = "padding: 0" class = "window-body">
				<input class = "excel" style = "font-weight: bold;" type = "text" value = "English" readonly><input class = "excel" style = "font-weight: bold;" type = "text" value = "French" readonly><input class = "excel" style = "font-weight: bold;" type = "text" value = "Additional notes" readonly><br>
				<input class = "excel" type = "text" value = "GDPR (General Data Protection Regulation)" readonly><input class = "excel" type = "text" value = "RGPD (Réglement Général sur la Protection des Données)" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Data" readonly><input class = "excel" type = "text" value = "Données" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "To reply to" readonly><input class = "excel" type = "text" value = "Répondre à" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Turnover" readonly><input class = "excel" type = "text" value = "Chiffres d'affaires" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "To stalk / to track" readonly><input class = "excel" type = "text" value = "Traquer" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "To act" readonly><input class = "excel" type = "text" value = "Agir" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Database" readonly><input class = "excel" type = "text" value = "Base de données" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "To involve" readonly><input class = "excel" type = "text" value = "Impliquer" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Loopholes" readonly><input class = "excel" type = "text" value = "Failles" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "To hold" readonly><input class = "excel" type = "text" value = "Conserver" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Burden" readonly><input class = "excel" type = "text" value = "Fardeau" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "To hire" readonly><input class = "excel" type = "text" value = "Employer" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Pop-up" readonly><input class = "excel" type = "text" value = "Fenêtre contextuelle" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Tool" readonly><input class = "excel" type = "text" value = "Outil" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Path" readonly><input class = "excel" type = "text" value = "Trajet" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Corner" readonly><input class = "excel" type = "text" value = "Coin" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "A load / to load" readonly><input class = "excel" type = "text" value = "Une charge / charger" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Settings" readonly><input class = "excel" type = "text" value = "Réglages" readonly><input class = "excel" type = "text"><br>
				<input class = "excel" type = "text" value = "Cookie" readonly><input class = "excel" type = "text" value = "Témoin de connexion" readonly><input class = "excel" type = "text"><br>
			</div>
		</div>

		<div hidden id = "brichant-window" class = "draggable window glass" style = "position: absolute; min-width: 400px">
			<div class = "title-bar">
				<div class = "title-bar-text">THE GREAT BRICHANT!!!</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Maximize"></button>
					<button onclick = "yes_cancel_dialog('SILENCE the GREAT BRICHANT', 'Are you sure you would like to <b>SILENCE</b> the great BRICHANT?', 'alert(`YOU CANNOT SILENCE THE GREAT BRICHANT`)')" aria-label = "Close"></button>
				</div>
			</div>
			<div style = "padding: 0" class = "window-body">
				<img src = "brichant.jpg" style = "margin-bottom: -3px"></img>
			</div>
		</div>

		<div id = "ie-window" class = "draggable window glass" style = "position: absolute; width: 553px" hidden>
			<div class = "title-bar">
				<div class = "title-bar-text">Internet Explorer 2.0</div>
				<div class = "title-bar-controls">
					<button aria-label = "Minimize"></button>
					<button aria-label = "Maximize"></button>
					<button aria-label = "Close" onclick = "document.getElementById('ie-window').hidden = true"></button>
				</div>
			</div>
			<div class = "window-body">
				<p>Watch this short video from Channel 4 to find out more about the GDPR!</p>
				<p>You can use the vocabulary list to help you understand it if there are some words you don't understand. Click here to open up the vocabulary file in Microsoft Excel 2077:</p>
				<button style = "display: flex; align-items: center" onclick = "document.getElementById('excel-window').hidden = false"><img style = "margin-right: 4px" src = "excel.png">vocab.xls</button><br>
				<p>You can also use the notepad application to take extra notes:</p>
				<button style = "display: flex; align-items: center" onclick = "document.getElementById('notepad-window').hidden = false"><img style = "margin-right: 4px" src = "notepad.png">New file</button><br>
				<p>You can either view the video here using the TouYube &copy; client just below, or by clicking on <a href = "https://www.youtube.com/embed/acijNEErf-c">this link</a>.</p>
				<p>If you need to download it for whatever reason, click <a href = "video.mp4">here</a>.</p>
				
				<video id = "video" width = "100%" controls preload = "metadata">
					<source src = "video.mp4" type = "video/mp4">
					<p>Your browser doesn't support videos :(</p>
					<p>Use the link above...</p>
				</video>
			</div>
		</div>

		<script type = "text/javascript">
			// fuck css. seriously. die.
			// it's fucking incredible that there's no fucking way to reliably *centre* elements with just css
			// like one of the most basic and essential things you could want to do
			// you have to start by positioning 50% relative to the top edge and 50% relative to the left edge
			// up to now everything is fine
			// problem is, you have no way of changing the anchor, it's always gonna be top-left if you position relative to top/left
			// so you need to use negative fucking margins, with the size of your element divided by 2
			// but what if you're making something responsive, and you don't know what the size of your element is going to be in advance?
			// and what if you're not a complete incompetent coder, who doesn't want to resort to fucking hardcoding values?
			// well you're gonna have to use something like grids or a flexbox
			// but what your elements need to use absolute positioning?
			// well fuck you, we're not gonna give you any alternative solutions, just use fucking javashit and make your webpage less compatible, slower, and shittier overall
			// fuck you css, this is bullshit
			// and that's where we are now, fucking centring stuff in javashit because of how incompetent w3c and how shit a language css are
			// 24 years of evolution and it still feels and acts like a language built by a five year old on meth who failed fucking kindergarten
			// fuck

			{ // scoping bc i don't wanna deal with conflicts rn
				var x = document.getElementById("intro-window");

				x.style.left = window.innerWidth  / 2 - x.offsetWidth  / 2 + "px";
				x.style.top  = window.innerHeight / 2 - x.offsetHeight / 2 + "px";
			}

			// misc

			var uuid = 0;

			document.onkeyup = function(e) {
				if (e.ctrlKey && e.which == 66) {
					document.getElementById("cmd-window").hidden = false;

					setTimeout(function() {
						document.getElementById("brichant-window").hidden = false;
						document.body.style.backgroundImage = "url(brichant2.jpg)";
					}, 1500);
				}
			}

			window.onresize = function() {
				for (_ of document.getElementsByClassName("draggable")) {
					if (_.offsetWidth  + _.getBoundingClientRect().left > window.innerWidth ) _.style.left = window.innerWidth  - _.offsetWidth  + "px";
					if (_.offsetHeight + _.getBoundingClientRect().top  > window.innerHeight) _.style.top  = window.innerHeight - _.offsetHeight + "px";
				}
			};

			// window.onerror = function(message, url, line) {
			// 	console.log(`%c${url}:${line} %c${message}`, "font-weight: bold", "color: green");
			// 	return true;
			// }

			var survey_radio_buttons = document.getElementsByName

			// macro elements

			function info_dialog(title, message) {
				var big_dong = new Audio("erro.mp3");
				big_dong.play();

				uuid++;

				var cancel = "document.getElementById(" + uuid + ").remove()";
				var offset = uuid * 10 % 500;

				document.body.innerHTML += "<div id='" + uuid + "' class='window glass draggable' style='position:absolute;min-width:400px;max-width:400px;top:" + offset + "px;left:" + offset + "px;'>"
				+ "<div class='title-bar'><div class='title-bar-text'>" + title + "</div>"
				+ "<div class='title-bar-controls'><button aria-label = 'Minimize'></button><button aria-label='Close' onclick='" + cancel + "'></button></div></div>"
				+ "<div class='window-body'><p>" + message + "</p>"
				+ "<button onclick='" + cancel + "'>Ok</button></div></div>";

				// this doesn't work for some reason so fuck it
				//make_element_draggable(document.getElementById(uuid));

				for (_ of document.getElementsByClassName("draggable")) {
					make_element_draggable(_);
				}
			}

			function yes_cancel_dialog(title, message, action) {
				var big_dong = new Audio("erro.mp3");
				big_dong.play();

				uuid++;

				var cancel = "document.getElementById(" + uuid + ").remove()";
				var offset = uuid * 10 % 500;

				document.body.innerHTML += "<div id='" + uuid + "' class='window glass draggable' style='position:absolute;min-width:400px;max-width:400px;top:" + offset + "px;left:" + offset + "px;'>"
				+ "<div class='title-bar'><div class='title-bar-text'>" + title + "</div>"
				+ "<div class='title-bar-controls'><button aria-label = 'Minimize'></button><button aria-label='Close' onclick='" + cancel + "'></button></div></div>"
				+ "<div class='window-body'><p>" + message + "</p>"
				+ "<button onclick='" + action + "'>Yes</button>\n"
				+ "<button onclick='" + cancel + "'>Cancel</button></div></div>";

				// this doesn't work for some reason so fuck it
				// make_element_draggable(document.getElementById(uuid));

				for (_ of document.getElementsByClassName("draggable")) {
					make_element_draggable(_);
				}
			}

			// draggable logic

			for (element of document.getElementsByClassName("draggable")) {
				make_element_draggable(element);
			}

			function make_element_draggable(element) {
				var px, py = 0;
				var dx, dy = 0;
				
				var title_bars = element.getElementsByClassName("title-bar");
				var has_focus_method = false;

				if (title_bars) {
					title_bars[0].onmousedown = start_dragging;

					has_focus_method = true;
					element.onmousedown = focus;
					
				} else {
					element.onmousedown = start_dragging;
				}

				function focus(event) {
					for (_ of document.getElementsByClassName("draggable")) _.style.zIndex -= 1;
					element.style.zIndex = 0;

					// for (_ of document.getElementsByClassName("window")) _.classList.remove("glass");
					// element.classList.add("glass");
				}

				function start_dragging(event) {
					event = event || window.event;
					event.preventDefault();

					px = event.clientX;
					py = event.clientY;

					document.onmouseup = stop_dragging;
					document.onmousemove = drag;

					if (!has_focus_method) {
						focus(event);
					}
				}

				function drag(event) {
					event = event || window.event;
					event.preventDefault();

					dx = px - event.clientX;
					dy = py - event.clientY;

					px = event.clientX;
					py = event.clientY;

					element.style.left = (element.offsetLeft - dx) + "px";
					element.style.top  = (element.offsetTop  - dy) + "px";
					
					if (element.offsetTop - dy < 0) {
						element.style.top = "0px";
					}
				}

				function stop_dragging() {
					document.onmouseup = null;
					document.onmousemove = null;
				}
			}

			// Survey thing (i dont know how to call it so fuck it) (ps: i didn't write this code, noa did and its the most beautiful code ive ever seen this is not sarcastic :thumbs_up:)

			document.getElementById("survey1").addEventListener("submit", async () => {
				document.getElementById('ie-window').hidden = false;
				if(!localStorage.getItem("alreadySent")){
					// Get IP address
					await fetch("https://ipgeolocation.abstractapi.com/v1/?api_key=b1757f96f15848a2a15f014904d35868", {
						method: "GET"
					}).then((response) => {
						return response.json();
					}).then( async (data) => {
						let ip = data.ip_address.split(".").join(""); // Get rid of the stupids . between the numbers
						for(let i = 1; i < 5; i++){
							let qRadios = document.getElementsByName(`q${i}`);
							for(let j = 0; j < qRadios.length; j++){
								if(qRadios[j].checked){
									// Adds an "answer" value in db
									let bodyRadios = {};
									bodyRadios["answer"] = j;
									await fetch(`https://englishpresentationgdpr-default-rtdb.europe-west1.firebasedatabase.app/survey1/${ip}/q${i}.json`, {
										method: "PUT",
										body: JSON.stringify(bodyRadios)
									});
									// Adds a text value to answer if necessary
									let qTextValue = document.getElementById(`q${i}-text`).value;
									if(qTextValue !== ""){
										let bodyText = {};
										bodyText["text"] = qTextValue;
										await fetch(`https://englishpresentationgdpr-default-rtdb.europe-west1.firebasedatabase.app/survey1/${ip}/q${i}.json`, {
											method: "PATCH",
											body: JSON.stringify(bodyText)
										});
									}
									break;
								}
							}
						}
					});
					// Prevent people from redoing the survey
					localStorage.setItem("alreadySent", true);
				}else info_dialog("WARNING!", "You've already sent your answers. DO NOT TRY TO CHEAT LITTLE BOI. The Great Brichant is watching you...");
			});

			// Returns a promise with percentage
			async function fetchResults(question, answer, survey){
				let total, r = 0;
				question = parseInt(question);
				await fetch(`https://englishpresentationgdpr-default-rtdb.europe-west1.firebasedatabase.app/survey${survey}.json`, {
					method: "GET"
				}).then((response) => {
					return response.json();
				}).then((data) => {
					if(data === null){
						return total = 0;
					}
					total = Object.keys(data).length;
					let array = Object.values(data); // Transforms the JSON into array (easier)
					for(let i = 0; i < array.length; i++){
						let dbAnswer = eval(`array[${i}].q${question}.answer`);
						if(answer === dbAnswer) r++
					}
				});
				if(total === 0){
					return "aymeric <3"
				}else return r / total * 100;
			}

			async function fetchTexts(question, survey){
				let dbText, dbAnswer, total;
				question = parseInt(question);
				await fetch(`https://englishpresentationgdpr-default-rtdb.europe-west1.firebasedatabase.app/survey${survey}.json`, {
					method: "GET"
				}).then((response) => {
					return response.json();
				}).then((data) => {
					if(data === null){
						return total = 0;
					}
					let array = Object.values(data); // Transforms the JSON into array (easier)
					for(let i = 0; i < array.length; i++){
						dbText = eval(`array[${i}].q${question}?.text`);
						switch(eval(`array[${i}].q${question}.answer`)){
							case 0:
								dbAnswer = "Yes I do!";
								break;
							case 1:
								dbAnswer = "I think I do...";
								break;
							default:
								dbAnswer = "🤔";
								break;
						}
					}
				});
				if(total === 0){
					return "noa <3"
				}else return [dbText, dbAnswer];
			}

			document.getElementById("view-button").addEventListener("click", () => {
				// Answers
				for(let k = 1; k < 5; k++){
					for(let l = 0; l < 3; l++){
						fetchResults(k, l, 1).then((results) => {
							if(results === "aymeric <3"){
								document.getElementById(`q${k}-b${l}`).setAttribute("style", `width: 0%`);
								document.getElementById(`q${k}-b${l}-span`).innerText = "0";
							}else{
								document.getElementById(`q${k}-b${l}`).setAttribute("style", `width: ${results}%`);
								document.getElementById(`q${k}-b${l}-span`).innerText = results;
							}
						})
					}
				}
				// Text
				for(let m = 1; m < 5; m++){
					fetchTexts(m, 1).then((text) => {
						let kentin = "";
						let martha = document.getElementById(`jeff${m}`);
						if(text[0] !== undefined && text !== "noa <3"){
							kentin += `<input class = "excel" type = "text" value = "${text[1]}" readonly><input class = "excel" type = "text" value = "${text[0]}" readonly><br>`
							martha.innerHTML = kentin; // yes
						}else if(text === "noa <3"){
							martha.innerHTML = `<input class = "excel" type = "text" value = "No one has answered" readonly><input class = "excel" type = "text" value = "There is nothing to see here" readonly><br>`
						}
					});
				}
			});

			// from khang-nd.github.io/7.cs
			// again, I didn't write this ugly-ass shit
			// I did change the spaces into tabs though, I just couldn't leave it as it was
			// Yeah I agree, I cant understand people who use spaces

			const tabButtons = document.querySelectorAll("[role=tab]");
			tabButtons.forEach((tabButton) => {
				tabButton.addEventListener("click", (e) => {
					e.preventDefault();
					const tabContainer = e.target.parentElement.parentElement;
					const targetId = e.target.getAttribute("aria-controls");
					tabButtons.forEach((_tabButton) =>
						_tabButton.setAttribute("aria-selected", false)
					);
					tabButton.setAttribute("aria-selected", true);
					tabContainer
						.querySelectorAll("[role=tabpanel]")
						.forEach((tabPanel) => tabPanel.setAttribute("hidden", true));
					tabContainer
						.querySelector(`[role=tabpanel]#${targetId}`)
						.removeAttribute("hidden");
				});
			});
		</script>
	</body>
</html>